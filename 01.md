AI
Necesito una web siguiendo el patron responsive first. 
Tengo la idea de una web app, primordial mobile.  
El cual un usuario puede consultar un producto ejemplo mayonesa ligeresa, y que esta le diga los precios de este producto en 
- mercadona
- dia
- alcampo
- lidl 
- etc. 

abajo el boton para consultar otro producto. 
Tambien podria scanear el codigo de barra y ahi obtener los detalles para evitar escribir mayonesa. 
Para este proyecto necesito que sigas las siguientes instrucciones tecnicas.

# Technical Project Initialization Prompt

**Context**: This is the technical foundation prompt for initializing a new React + TypeScript project following our established architecture patterns, coding standards, and best practices. This prompt should be used **FIRST** before any business logic or feature implementation.

---

## üéØ Project Setup Objective

Create a complete, production-ready React + TypeScript project with the following technical specifications:

---

## üìã Core Technology Stack

### Primary Technologies
- **React**: 19+ (latest stable)
- **TypeScript**: 5.9+ with strict mode enabled
- **Build Tool**: Vite 7+ 
- **Node.js**: 24+ with ESM modules exclusively
- **Package Manager**: **pnpm** (version 10+)
- **ECMAScript**: ES2022+ features 

### State Management & Data Fetching
- **Global State**: **Zustand** (5.0+) for persistent global state
- **Server State/Cache**: **TanStack Query** (React Query 5.90+) for API caching and server state
- **State Persistence**: 
  - **CookieStore API** (https://developer.mozilla.org/en-US/docs/Web/API/CookieStore) for persistent storage
  - **sessionStorage** for temporary session-based storage
  - ‚ùå **Never use localStorage** - use CookieStore instead

### Routing & Navigation
- **React Router**: 7.10+ (React Router v7)

### Internationalization
- **i18next**: 25.7+
- **react-i18next**: 16.4+

### Development Tools
- **Code Quality**: **Biome** (2.3+) for linting and formatting
- **Git Hooks**: **Husky** (9.1+) for pre-commit and pre-push validation
- **Testing**: Vitest (4.0+) with React Testing Library
- **TypeScript Validation**: Built-in TypeScript compiler

### Additional Libraries
- **Date Handling**: Luxon (3.7+)
- **Token Validation**: react-jwt (2.0+)
- **Schema Validation**: Zod (4.1+)
- **HTTP Client**: Native fetch API with custom wrapper

### React Router Configuration
- **React Router**: 7.10+ with `createBrowserRouter`
- **Lazy Loading**: Use `React.lazy()` for code splitting on routes
- **Nested Routes**: Organize routes with layouts and nested children
- **Route Guards**: Implement private/public route protection
- **Suspense Boundaries**: Wrap lazy-loaded routes with Suspense and loading fallbacks
- **Centralized Paths**: Define all route paths in `navigation/paths.ts` to avoid hardcoding and circular dependencies

---

## üèóÔ∏è Project Architecture

### Architecture Patterns
This project **MUST** follow these architectural principles:

1. **Vertical Slicing**: Organize code by feature/domain, NOT by technical layer
2. **Screaming Architecture**: Directory structure should scream what the application does, not what frameworks it uses
3. **Clean Architecture**: Separate concerns into distinct layers (Domain ‚Üí Repository ‚Üí Use Cases ‚Üí Hooks ‚Üí UI)
4. **Functional Programming Only**: ‚ùå No classes, constructors, `this`, or inheritance. Use functions, hooks, and composable patterns

### Service Layer Architecture
**MANDATORY** pattern for all API integrations:

```
UI Component <-> Custom Hook (React Query + Mapper/Adapter) <-> Service Layer
```

- **UI Components**: Pure presentation, consume hooks, NO business logic
- **Custom Hooks**: Use `useQuery`/`useMutation` from TanStack Query, handle loading/error states
- **Mapper/Adapter**: Transform API responses to prevent UI breaks when backend changes
- **Service Layer**: HTTP calls, business logic, error handling

### Project Structure (Vertical Slicing Example)

```
src/
‚îú‚îÄ‚îÄ main.tsx                    # Application entry point
‚îú‚îÄ‚îÄ App.tsx                     # Root application component
‚îú‚îÄ‚îÄ routes.tsx                  # Application routes definition
‚îú‚îÄ‚îÄ vite-env.d.ts              # Vite environment types
‚îÇ
‚îú‚îÄ‚îÄ assets/                     # Static assets (images, icons, fonts)
‚îÇ   ‚îú‚îÄ‚îÄ icons/
‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îî‚îÄ‚îÄ fonts/
‚îÇ
‚îú‚îÄ‚îÄ components/                 # Reusable UI components (BaseButton, BaseInput, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ BaseButton/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BaseButton.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BaseButton.module.css
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îú‚îÄ‚îÄ BaseInput/
‚îÇ   ‚îî‚îÄ‚îÄ index.ts               # Barrel export for all components
‚îÇ
‚îú‚îÄ‚îÄ styles/                     # Global styles and CSS utilities
‚îÇ   ‚îú‚îÄ‚îÄ index.css              # Main CSS entry (imports all partials)
‚îÇ
‚îú‚îÄ‚îÄ hooks/                      # Reusable custom hooks
‚îÇ   ‚îú‚îÄ‚îÄ useAuth.ts
‚îÇ   ‚îú‚îÄ‚îÄ useDebounce.ts
‚îÇ   ‚îî‚îÄ‚îÄ useLocalStorage.ts
‚îÇ
‚îú‚îÄ‚îÄ utils/                      # Pure utility functions
‚îÇ   ‚îú‚îÄ‚îÄ envs.ts                # Environment variables helper
‚îÇ   ‚îú‚îÄ‚îÄ token.ts               # Token validation utilities
‚îÇ   ‚îú‚îÄ‚îÄ dateUtils.ts           # Date manipulation
‚îÇ   ‚îî‚îÄ‚îÄ validationUtils.ts     # Validation helpers
‚îÇ
‚îú‚îÄ‚îÄ store/                      # Zustand global stores
‚îÇ   ‚îú‚îÄ‚îÄ authStore.ts
‚îÇ   ‚îú‚îÄ‚îÄ errorStore.ts
‚îÇ   ‚îî‚îÄ‚îÄ storage.ts             # CookieStore/sessionStorage helpers
‚îÇ
‚îú‚îÄ‚îÄ constants/                  # Application constants
‚îÇ   ‚îú‚îÄ‚îÄ routes.ts              # Route paths
‚îÇ   ‚îú‚îÄ‚îÄ apiEndpoints.ts        # API endpoint URLs
‚îÇ   ‚îî‚îÄ‚îÄ config.ts              # App configuration
‚îÇ
‚îú‚îÄ‚îÄ enums/                      # TypeScript enums (use sparingly, prefer unions)
‚îÇ
‚îú‚îÄ‚îÄ types/                      # Shared TypeScript types/interfaces
‚îÇ   ‚îú‚îÄ‚îÄ api.types.ts
‚îÇ   ‚îú‚îÄ‚îÄ user.types.ts
‚îÇ   ‚îî‚îÄ‚îÄ common.types.ts
‚îÇ
‚îú‚îÄ‚îÄ interfaces/                 # TypeScript interfaces
‚îÇ   ‚îú‚îÄ‚îÄ components.interface.ts
‚îÇ   ‚îî‚îÄ‚îÄ services.interface.ts
‚îÇ
‚îú‚îÄ‚îÄ validators/                 # Zod schemas and validators
‚îÇ   ‚îú‚îÄ‚îÄ authSchema.ts
‚îÇ   ‚îî‚îÄ‚îÄ userSchema.ts
‚îÇ
‚îú‚îÄ‚îÄ providers/                  # React context providers
‚îÇ   ‚îú‚îÄ‚îÄ QueryProvider.tsx      # TanStack Query provider
‚îÇ   ‚îú‚îÄ‚îÄ I18nProvider.tsx       # i18next providerhttp/
‚îÇ   ‚îú‚îÄ‚îÄ http.ts                # HTTP client wrapper (fetch)
‚îÇ       ‚îî‚îÄ‚îÄ httpClient.ts      # HTTP configuration
‚îÇ   ‚îî‚îÄ‚îÄ ThemeProvider.tsx      # Theme context provider
‚îÇ
‚îú‚îÄ‚îÄ navigation/                 # Navigation components and guards
‚îÇ   ‚îú‚îÄ‚îÄ PrivateRoute.tsx
‚îÇ   ‚îî‚îÄ‚îÄ PublicRoute.tsx
‚îÇ
‚îú‚îÄ‚îÄ adapters/                   # Data adapters/mappers (API response transformers)
‚îÇ   ‚îú‚îÄ‚îÄ userAdapter.ts
‚îÇ   ‚îî‚îÄ‚îÄ authAdapter.ts
‚îÇ
‚îú‚îÄ‚îÄ services/                   # API service functions
‚îÇ   ‚îú‚îÄ‚îÄ authService.ts
‚îÇ   ‚îî‚îÄ‚îÄ userService.ts
‚îÇ
‚îú‚îÄ‚îÄ pages/                      # FEATURE-BASED PAGE ORGANIZATION (Vertical Slicing)
‚îÇ   ‚îú‚îÄ‚îÄ Auth/                  # Authentication domain
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.module.css
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useLogin.ts       # Custom hook for login logic
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Register/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ForgotPassword/
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Dashboard/             # Dashboard domain
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.module.css
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/           # Dashboard-specific components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ StatsCard/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ActivityFeed/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/                # Dashboard-specific hooks
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useDashboardData.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ Profile/               # User profile domain
‚îÇ       ‚îú‚îÄ‚îÄ Profile.tsx
‚îÇ       ‚îú‚îÄ‚îÄ Profile.module.css
‚îÇ       ‚îú‚îÄ‚îÄ components/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ProfileForm/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ AvatarUpload/
‚îÇ       ‚îú‚îÄ‚îÄ hooks/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ useProfileUpdate.ts
‚îÇ       ‚îú‚îÄ‚îÄ services/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ profileService.ts
‚îÇ       ‚îî‚îÄ‚îÄ index.ts
‚îÇ
‚îî‚îÄ‚îÄ test/                       # Test utilities and mocks
    ‚îú‚îÄ‚îÄ mocks/
    ‚îú‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ setup.ts
```

**Key Principles:**
- Each **feature/domain** has its own directory under `pages/`
- Domain directories contain: components, hooks, services, types specific to that feature
- **Shared** components go in `/components/`
- **Shared** hooks go in `/hooks/`
- **Shared** utilities go in `/utils/`
- **Respect domain boundaries** - don't mix concerns between features

---

## üé® CSS & Styling Standards

### ‚ö†Ô∏è CRITICAL STYLING RULES

**PRIMARY APPROACH**: Use **CSS Modules** and vanilla CSS as the default styling solution.

‚ùå **DO NOT** install or use Tailwind CSS unless explicitly requested.
‚ùå **DO NOT** use CSS-in-JS libraries (styled-components, emotion, etc.) unless explicitly requested.
‚úÖ **DO** use CSS Modules (`.module.css`) for component-specific styles.
‚úÖ **DO** use global CSS for design system tokens and utilities.

### CSS Color System - MANDATORY VARIABLES

**üö® CRITICAL - READ CAREFULLY**: 

You **MUST** use ONLY the following color variable naming convention. These are the ONLY approved variable names.

‚ùå **ABSOLUTELY FORBIDDEN** - Never use these generic variable names:
- `--background`, `--foreground`
- `--card`, `--card-foreground`
- `--popover`, `--popover-foreground`
- `--primary-foreground`, `--secondary-foreground`
- `--muted`, `--muted-foreground`
- `--accent`, `--accent-foreground`
- `--destructive`, `--destructive-foreground`
- `--border`, `--input`, `--ring`
- Any variable name that doesn't start with `--color-` or `--spacing`

‚úÖ **REQUIRED USAGE EXAMPLES**:
```css
/* ‚úÖ CORRECT - Use these patterns */
body {
  background-color: var(--color-gray-5);
  color: var(--color-gray-1);
}

.button-primary {
  background-color: var(--color-primary);
  color: var(--color-white);
}

.text-error {
  color: var(--color-error);
}

/* ‚ùå WRONG - Never do this */
body {
  background-color: var(--background); /* FORBIDDEN */
  color: var(--foreground); /* FORBIDDEN */
}

.card {
  background: var(--card); /* FORBIDDEN */
  color: var(--card-foreground); /* FORBIDDEN */
}
```

#### Required CSS Color Variables (ONLY THESE)

```css
:root {
  /* Primary Colors */
  --color-primary: #003b5c;
  --color-primary-variant: #005485;
  --color-primary-20: #3b60b1;
  --color-primary-40: #4096ff;

  /* Secondary Colors */
  --color-secondary: #236fa6;
  --color-secondary-variant: #0084db;
  --color-secondary-20: #1c5985;
  --color-secondary-40: #16476a;

  /* Tertiary Colors */
  --color-tertiary: #edf1f8;

  /* Gray Scale */
  --color-gray: #e4e4e4;
  --color-gray-1: #323232;
  --color-gray-2: #555555;
  --color-gray-3: #808080;
  --color-gray-4: #cccccc;
  --color-gray-5: #f2f4f5;
  --color-gray-6: #ffffff;

  /* Base Colors */
  --color-white: #ffffff;
  --color-black: #131313;

  /* Status Colors */
  --color-error: #bc3832;
  --color-error-20: #962d28;
  --color-error-40: #71221e;
  --color-error-tertiary: #f9e7e7;

  --color-warning: #ff5623;
  --color-warning-2: #de6d17;
  
  --color-success: #06893a;
  --color-disabled: #808080;
}

/* Dark Theme */
[data-theme="dark"] {
  --color-primary: #003b5c;
  --color-primary-variant: #1597cd;

  --color-secondary: #5fa9ff;
  --color-secondary-variant: #8cc7f3;
  --color-secondary-20: #5fa9ff;

  --color-tertiary: #283038;

  --background: #121212;
  --color-warning: #d90808;
  --color-white: #ffffff;
  --color-error: #eb5640;
  --color-success: #06893a;
  --color-disabled: #a0a0a0;

  --color-gray-1: #ffffff;
  --color-gray-2: #cccccc;
  --color-gray-3: #a0a0a0;
  --color-gray-4: #555555;
  --color-gray-5: #283038;
  --color-gray-6: #323232;
}
```

### Styling Methodology (Priority Order)

1. **CSS Modules** (PRIMARY APPROACH)
   - Use for ALL component-specific styles (`.module.css` files)
   - Apply BEM methodology for class naming (Block__Element--Modifier)
   - Reference CSS variables directly: `var(--color-primary)`

2. **Global CSS** (SECONDARY)
   - Only in `src/styles/` directory
   - For design tokens, resets, and global utilities

3. **Tailwind CSS** (ONLY IF EXPLICITLY REQUESTED)
   - ‚ùå **DO NOT install by default**
   - ‚úÖ **IF used, MUST be configured to use our color variables**
   - See "Tailwind Configuration" section below for strict requirements

4. **NO Inline Styles**
   - Never use inline `style` attributes
   - Always use CSS classes

### CSS Modules Examples (PREFERRED)

```css
/* Button.module.css - ‚úÖ CORRECT APPROACH */
.button {
  background-color: var(--color-primary);
  color: var(--color-white);
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
  border: none;
  cursor: pointer;
}

.button--secondary {
  background-color: var(--color-secondary);
}

.button--disabled {
  background-color: var(--color-disabled);
  cursor: not-allowed;
}

.button__icon {
  margin-right: 0.5rem;
}

.button__text {
  font-weight: 500;
}
```

```tsx
// Button.tsx
import styles from './Button.module.css';

interface ButtonProps {
  variant?: 'primary' | 'secondary';
  disabled?: boolean;
  children: React.ReactNode;
}

const Button = ({ variant = 'primary', disabled, children }: ButtonProps) => {
  const buttonClass = [
    styles.button,
    variant === 'secondary' && styles['button--secondary'],
    disabled && styles['button--disabled'],
  ].filter(Boolean).join(' ');

  return <button className={buttonClass}>{children}</button>;
};
```

### üîß Tailwind CSS Configuration (ONLY IF USED)

**‚ö†Ô∏è WARNING**: Tailwind should NOT be installed unless explicitly requested. If you must use it, follow these STRICT rules:

#### 1. Install Tailwind
```bash
pnpm add -D tailwindcss postcss autoprefixer
pnpx tailwindcss init -p
```

#### 2. Configure `tailwind.config.js` - Map to OUR Variables

```javascript
/** @type {import('tailwindcss').Config} */
export default {
  content: ['./index.html', './src/**/*.{js,ts,jsx,tsx}'],
  theme: {
    extend: {
      colors: {
        // ‚úÖ Map Tailwind colors to our CSS variables
        primary: {
          DEFAULT: 'var(--color-primary)',
          variant: 'var(--color-primary-variant)',
          20: 'var(--color-primary-20)',
          40: 'var(--color-primary-40)',
        },
        secondary: {
          DEFAULT: 'var(--color-secondary)',
          variant: 'var(--color-secondary-variant)',
          20: 'var(--color-secondary-20)',
          40: 'var(--color-secondary-40)',
        },
        tertiary: 'var(--color-tertiary)',
        gray: {
          DEFAULT: 'var(--color-gray)',
          1: 'var(--color-gray-1)',
          2: 'var(--color-gray-2)',
          3: 'var(--color-gray-3)',
          4: 'var(--color-gray-4)',
          5: 'var(--color-gray-5)',
          6: 'var(--color-gray-6)',
        },
        white: 'var(--color-white)',
        black: 'var(--color-black)',
        error: {
          DEFAULT: 'var(--color-error)',
          20: 'var(--color-error-20)',
          40: 'var(--color-error-40)',
          tertiary: 'var(--color-error-tertiary)',
        },
        warning: {
          DEFAULT: 'var(--color-warning)',
          2: 'var(--color-warning-2)',
        },
        success: 'var(--color-success)',
        disabled: 'var(--color-disabled)',
      },
    },
  },
  plugins: [],
  // Disable Tailwind's default color palette
  corePlugins: {
    preflight: false, // Don't override our global styles
  },
};
```

#### 3. Import in `src/styles/index.css`

```css
/* ONLY add these if using Tailwind */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Then our custom variables */
:root {
  /* Primary Colors */
  --color-primary: #003b5c;
  /* ... rest of variables ... */
}
```

#### 4. Tailwind Usage Examples (IF USING TAILWIND)

```tsx
// ‚úÖ CORRECT - Using our mapped colors
<button className="bg-primary text-white hover:bg-primary-variant">
  Click me
</button>

<div className="text-gray-1 bg-gray-5">
  Content
</div>

<span className="text-error">Error message</span>

// ‚ùå WRONG - Never use Tailwind's default colors
<button className="bg-blue-500 text-white"> {/* FORBIDDEN */}
  Click me
</button>

<div className="bg-slate-100 text-gray-900"> {/* FORBIDDEN */}
  Content
</div>
```

#### 5. Forbidden Tailwind Patterns

‚ùå **NEVER CREATE** a `theme.css` or similar file with generic variables like:
- `--background`, `--foreground`
- `--card`, `--popover`, `--muted`, `--accent`
- Any `@theme inline` declarations
- Any `@layer base` that uses generic variable names

‚ùå **NEVER USE** Tailwind's default color palette:
- `bg-blue-500`, `text-slate-900`, `border-gray-200`
- `bg-red-500`, `text-green-600`

‚úÖ **ONLY USE** our mapped colors:
- `bg-primary`, `text-gray-1`, `border-gray-4`
- `bg-error`, `text-success`

---

## ‚öôÔ∏è Configuration Files

### 1. package.json

```json
{
  "name": "project-name",
  "private": true,
  "version": "1.0.0",
  "type": "module",
  "author": {
    "name": "Your Name",
    "email": "your.email@example.com"
  },
  "scripts": {
    "dev": "vite --open",
    "dev:qa": "NODE_ENV=qa vite --mode qa",
    "dev:ci": "NODE_ENV=ci vite --mode ci",
    "dev:test": "NODE_ENV=test vite --mode test",
    "dev:prod": "NODE_ENV=production vite --mode production",
    "build": "pnpm check && vite build",
    "build:dev": "NODE_ENV=development pnpm fix && vite build --mode development",
    "build:qa": "NODE_ENV=qa pnpm fix && vite build --mode qa",
    "build:prod": "NODE_ENV=production pnpm fix && vite build --mode production",
    "fix": "pnpm biome check --fix ./src",
    "prepare": "husky",
    "test": "vitest",
    "test:coverage": "vitest --coverage",
    "test:ui": "vitest --ui",
    "test:watch": "vitest --watch",
    "check": "pnpm biome check --error-on-warnings ./src",
    "typecheck": "tsc --noEmit -p tsconfig.src.json"
  },
  "dependencies": {
    "@tanstack/react-query": "^5.90.12",
    "i18next": "^25.7.2",
    "luxon": "^3.7.2",
    "react": "^19.2.1",
    "react-dom": "^19.2.1",
    "react-i18next": "^16.4.0",
    "react-jwt": "^2.0.0",
    "react-router": "^7.10.1",
    "react-router-dom": "^7.10.1",
    "zod": "^4.1.13",
    "zustand": "^5.0.9"
  },
  "devDependencies": {
    "@biomejs/biome": "^2.3.8",
    "@tanstack/react-query-devtools": "^5.91.1",
    "@testing-library/jest-dom": "^6.9.1",
    "@testing-library/react": "^16.3.0",
    "@testing-library/user-event": "^14.6.1",
    "@types/luxon": "^3.7.1",
    "@types/node": "^24.10.2",
    "@types/react": "^19.2.2",
    "@types/react-dom": "^19.2.3",
    "@vitejs/plugin-react-swc": "^4.2.2",
    "@vitest/coverage-v8": "^4.0.15",
    "husky": "^9.1.7",
    "jsdom": "^27.3.0",
    "lint-staged": "^16.2.7",
    "typescript": "^5.9.3",
    "vite": "^7.2.7",
    "vite-tsconfig-paths": "^5.1.4",
    "vitest": "^4.0.15"
  },
  "packageManager": "pnpm@10.25.0",
  "lint-staged": {
    "src/**/*.{ts,tsx,js,jsx}": [
      "pnpm biome check --write --unsafe --files-ignore-unknown=true"
    ],
    "src/**/*.{css,scss,json}": [
      "pnpm biome check --write --files-ignore-unknown=true"
    ]
  }
}
```

### 2. biome.json

```json
{
  "$schema": "https://biomejs.dev/schemas/2.3.8/schema.json",
  "vcs": {
    "enabled": true,
    "clientKind": "git",
    "useIgnoreFile": true
  },
  "formatter": {
    "enabled": true,
    "indentStyle": "space",
    "indentWidth": 2,
    "lineWidth": 120,
    "attributePosition": "multiline"
  },
  "linter": {
    "enabled": true,
    "rules": {
      "recommended": true,
      "correctness": {
        "useExhaustiveDependencies": "off",
        "useImportExtensions": "off",
        "useUniqueElementIds": "off"
      },
      "a11y": {
        "useValidAnchor": "off",
        "useKeyWithClickEvents": "off",
        "noLabelWithoutControl": "off",
        "useSemanticElements": "off",
        "useFocusableInteractive": "off"
      },
      "security": {
        "noDangerouslySetInnerHtml": "off"
      },
      "complexity": {
        "noForEach": "off",
        "noImportantStyles": "off"
      },
      "style": {
        "noInferrableTypes": "off",
        "useImportType": "error"
      },
      "suspicious": {
        "noExplicitAny": "error"
      }
    }
  },
  "javascript": {
    "formatter": {
      "quoteStyle": "double",
      "jsxQuoteStyle": "double",
      "arrowParentheses": "asNeeded",
      "trailingCommas": "es5",
      "semicolons": "always",
      "bracketSpacing": false
    }
  },
  "json": {
    "formatter": {
      "trailingCommas": "none"
    }
  },
  "overrides": [
    {
      "includes": ["**/*.test.{ts,tsx,js,jsx}", "**/*.spec.{ts,tsx,js,jsx}", "**/__tests__/**/*.{ts,tsx,js,jsx}"],
      "formatter": { "enabled": false },
      "assist": {
        "actions": {
          "source": {
            "organizeImports": "off"
          }
        }
      }
    }
  ]
}
```

### 3. tsconfig.json (Root)

```json
{
  "files": [],
  "references": [
    { "path": "./tsconfig.app.json" },
    { "path": "./tsconfig.node.json" }
  ],
  "exclude": [
    "node_modules",
    "dist",
    ".env",
    "coverage",
    "build"
  ]
}
```

### 4. tsconfig.app.json

```json
{
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,
    
    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "isolatedModules": true,
    "moduleDetection": "force",
    "noEmit": true,
    "jsx": "react-jsx",
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,
    
    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true,
    "forceConsistentCasingInFileNames": true
  },
  "include": ["src"],
  "exclude": [
    "node_modules",
    "dist",
    "build",
    "coverage",
    "**/*.test.ts",
    "**/*.test.tsx",
    "**/*.spec.ts",
    "**/*.spec.tsx"
  ]
}
```

### 5. tsconfig.node.json

```json
{
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",
    "target": "ES2022",
    "lib": ["ES2023"],
    "module": "ESNext",
    "skipLibCheck": true,
    "moduleResolution": "bundler",
    "allowSyntheticDefaultImports": true,
    "strict": true,
    "noEmit": true
  },
  "include": ["vite.config.ts"]
}
```

### 6. vite.config.ts

```typescript
import react from "@vitejs/plugin-react-swc";
import {defineConfig} from "vite";
import tsconfigPaths from "vite-tsconfig-paths";

export default defineConfig({
  plugins: [
    react(),
    tsconfigPaths(),
  ],
  css: {
    modules: {
      scopeBehaviour: "local",
      generateScopedName: "[name]_[local]_[hash:base64:5]",
    },
  },
  server: {
    port: 3000,
    open: true,
  },
  build: {
    outDir: "build",
    chunkSizeWarningLimit: 1000,
    sourcemap: false,
  },
});
```

### 7. .gitignore

```
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local
build

# Environment variables
.env
.env.local
.env.development.local
.env.staging.local
.env.production.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?

# Coverage
coverage
.coverage
coverage-report
coverage-final.json

# CI/CD
.pnpm-store
biome-report.xml
junit.xml

# Backup files
*.bak
```

### 8. Husky Configuration

#### Install Husky
```bash
pnpm add -D husky
pnpm exec husky init
```

#### .husky/pre-commit
```bash
echo "üîç Running pre-commit checks..."

# Run lint-staged (applies Biome fixes to staged files)
echo "üìã Processing staged files with lint-staged..."
npx lint-staged

echo "‚úÖ Pre-commit checks passed!"
```

#### .husky/pre-push
```bash
echo "üîç Running pre-push checks..."
echo ""

# 1. Run Biome checks
echo "üîß Running Biome code quality checks..."
pnpm check

BIOME_EXIT_CODE=$?

if [ $BIOME_EXIT_CODE -ne 0 ]; then
  echo ""
  echo "‚ùå Biome checks failed!"
  echo ""
  echo "üí° Fix the issues with: pnpm fix"
  echo "   Or review them with: pnpm biome check src"
  echo ""
  exit 1
fi

# 2. Run TypeScript type checking
echo ""
echo "üîß Running TypeScript type checking..."
pnpm typecheck

TSC_EXIT_CODE=$?

if [ $TSC_EXIT_CODE -ne 0 ]; then
  echo ""
  echo "‚ùå TypeScript type checking failed!"
  echo "   Please fix the type errors before pushing."
  echo ""
  exit 1
fi

echo ""
echo "‚úÖ All pre-push checks passed! Ready to push."
exit 0
```

---

## üìù Coding Standards & Best Practices

### General Principles
1. **Keep It Simple**: Avoid over-engineering. Simplicity is priority over clever solutions
2. **No Deprecated/Legacy Code**: Always use ES2022+ features (December 2025 standards)
3. **Functional Programming Only**: ‚ùå No `class`, `constructor`, `this`, inheritance
4. **Pure Functions**: Prefer functions without side effects
5. **Arrow Functions**: Use as default function syntax

### TypeScript Rules
- ‚ùå **Never use `any`** - use specific types or `unknown`
- ‚úÖ Use `interface` for object shapes, `type` for unions
- ‚úÖ Enable strict mode in tsconfig.json
- ‚úÖ Define types first, then implement (Type-Driven Development)
- ‚úÖ Use React built-in types: `React.FC`, `React.ComponentProps`, `React.ReactNode`

### Component Design
- ‚úÖ **Components under 200 lines** - if exceeded, refactor
- ‚úÖ **Extract logic to custom hooks** - keep components focused on UI
- ‚úÖ **Extract calculations to utils** - pure functions in `src/utils/`
- ‚ùå **Avoid multiple `useEffect`** in one component
- ‚úÖ **Single Responsibility Principle** - each component does one thing

### Comments & Documentation
- ‚ùå **No inline comments** for obvious code
- ‚úÖ **JSDoc only for complex functions** - document the "why", not the "what"
- ‚ùå **No commented-out code** - delete before committing
- ‚úÖ **All documentation in English**

### State Management Rules
- **Local State**: Use `useState` for component-local state
- **Complex State**: Use `useReducer` for state machines
- **Global State**: Use **Zustand** stores
- **Server State**: Use **TanStack Query** (React Query)
- **Persistence**: Use **CookieStore API** or `sessionStorage`

### Internationalization (i18n)
- ‚úÖ **All user-facing text MUST use i18n keys**
- ‚úÖ **Before adding translations**: Verify key doesn't already exist
- ‚úÖ **Create keys in ALL language files** (en, es, etc.)
- ‚ùå **No hardcoded strings in UI components**

### Security
- ‚úÖ Sanitize all user inputs (prevent XSS)
- ‚úÖ Use HTTPS for all API calls
- ‚ùå **Never log sensitive data** (tokens, user IDs, passwords)
- ‚ùå **Remove all `console.log` before production**

### Accessibility
- ‚úÖ Use semantic HTML elements
- ‚úÖ Implement ARIA attributes where needed
- ‚úÖ Ensure keyboard navigation works
- ‚úÖ Provide alt text for images
- ‚úÖ Test with screen readers

---

## ‚úÖ Mandatory Post-Task Verification Checklist

**After completing ANY task, the AI MUST verify:**

### Code Cleanliness
- [ ] Remove unused variables
- [ ] Remove unused imports
- [ ] Remove unused functions
- [ ] Remove all `console.log`, `console.error`, `console.warn`
- [ ] Remove commented-out code

### Deprecated Code Check
- [ ] No deprecated npm packages
- [ ] No deprecated React/Node.js APIs
- [ ] Check migration guides for breaking changes
- [ ] Use latest stable versions (December 2025 standards)

### Code Quality
- [ ] No linting errors (`pnpm check`)
- [ ] No TypeScript errors (`pnpm typecheck`)
- [ ] Proper error handling (try/catch for async operations)
- [ ] Accessibility compliance (ARIA, semantic HTML, keyboard navigation)
- [ ] Performance optimization (no unnecessary re-renders)

### Architecture Compliance
- [ ] Clean Architecture: Business logic in domain layer
- [ ] Vertical Slicing: Code organized by feature/domain
- [ ] Service Layer Pattern: UI <-> Hook (React Query + Mapper) <-> Service
- [ ] Functional programming: Pure functions, no classes/constructors/this
- [ ] Component size: Under 200 lines, complex logic in hooks/utils

### Project-Specific
- [ ] Zustand for global state
- [ ] CookieStore API for persistence (not localStorage)
- [ ] react-jwt for token validation
- [ ] i18n translations:
  - All user-facing text uses i18n keys
  - Verified keys don't already exist
  - Created keys in ALL language files
  - No hardcoded strings
- [ ] HTTP calls use `src/infra/http/http.ts`
- [ ] Services consumed via React Query hooks with mappers

### Verification Commands
```bash
# Fix code quality issues
pnpm fix

# Check for errors
pnpm check

# TypeScript validation
pnpm typecheck

# Check for outdated packages
pnpm outdated

# Run tests
pnpm test
```

---

## ÔøΩÔ∏è React Router Configuration & Route Structure

### Router Setup Pattern

Our routing system follows a **centralized, modular pattern** with:
- Centralized route definitions separated by access level (public/private)
- Lazy loading for code splitting and performance
- Nested layouts for consistent UI structure
- Type-safe path constants to prevent typos

### File Structure for Routing

```
src/
‚îú‚îÄ‚îÄ routes.tsx                    # Main router configuration
‚îú‚îÄ‚îÄ App.tsx                       # App component with RouterProvider
‚îú‚îÄ‚îÄ main.tsx                      # Entry point
‚îÇ
‚îî‚îÄ‚îÄ navigation/
    ‚îú‚îÄ‚îÄ paths.ts                  # Centralized path constants (CRITICAL)
    ‚îú‚îÄ‚îÄ public.routes.tsx         # Public routes configuration
    ‚îú‚îÄ‚îÄ private.routes.tsx        # Private routes configuration
    ‚îú‚îÄ‚îÄ PrivateRoute.tsx          # Private route guard component
    ‚îî‚îÄ‚îÄ PublicRoute.tsx           # Public route guard component (optional)
```

### 1. Centralized Path Constants (`navigation/paths.ts`)

**CRITICAL**: Always define paths in a centralized file to avoid circular dependencies and hardcoding.

```typescript
/**
 * Application paths constants
 * Centralized location for all route paths to avoid circular dependencies
 */

export const publicPaths = {
  home: "/",
  login: "/login",
  forgotPassword: "/forgot-password",
  resetPassword: "/reset-password",
  register: "/register",
} as const;

export const privatePaths = {
  dashboard: {
    path: "dashboard",
    link: "/dashboard",
    title: "Dashboard",
  },
  profile: {
    path: "profile",
    link: "/profile",
    title: "My Profile",
  },
  settings: {
    path: "settings",
    link: "/settings",
    title: "Settings",
  },
} as const;

// Export type for autocomplete support
export type PublicPaths = typeof publicPaths;
export type PrivatePaths = typeof privatePaths;
```

### 2. Main Router Configuration (`routes.tsx`)

```typescript
import {createBrowserRouter, Outlet, type RouteObject} from "react-router-dom";
import ErrorBoundary from "./components/ErrorBoundary";
import {usePageTracking} from "./hooks/usePageTracking";
import privateRoutes from "./navigation/private.routes";
import publicRoutes from "./navigation/public.routes";

const allRoutes: RouteObject[] = [...publicRoutes, ...privateRoutes];

function RootLayout() {
  usePageTracking(); // Analytics tracking on route changes
  return <Outlet />;
}

const router = createBrowserRouter(
  [
    {
      element: <RootLayout />,
      errorElement: <ErrorBoundary />,
      children: [
        {
          path: "/",
          children: allRoutes,
        },
      ],
    },
  ],
  {
    basename: "/", // Change if app is served from subdirectory
  }
);

export default router;
```

### 3. Public Routes Configuration (`navigation/public.routes.tsx`)

```typescript
import {lazy, Suspense} from "react";
import type {RouteObject} from "react-router-dom";

// Lazy load layouts
const PublicLayout = lazy(() => import("../pages/layout/Public/Home"));

// Lazy load pages
const Login = lazy(() => import("../pages/public/Auth/Login"));
const Register = lazy(() => import("../pages/public/Auth/Register"));
const ForgotPassword = lazy(() => import("../pages/public/Auth/ForgotPassword"));
const ResetPassword = lazy(() => import("../pages/public/Auth/ResetPassword"));

import RouteLoading from "../components/RouteLoading";
import {publicPaths} from "./paths";

// Reusable Suspense wrapper
const withSuspense = (Component: React.ComponentType) => (
  <Suspense fallback={<RouteLoading />}>
    <Component />
  </Suspense>
);

const publicRoutes: RouteObject[] = [
  {
    element: withSuspense(PublicLayout),
    children: [
      {
        element: withSuspense(Login),
        index: true, // Default route
      },
      {
        path: publicPaths.login,
        element: withSuspense(Login),
      },
      {
        path: publicPaths.register,
        element: withSuspense(Register),
      },
      {
        path: publicPaths.forgotPassword,
        element: withSuspense(ForgotPassword),
      },
      {
        path: publicPaths.resetPassword,
        element: withSuspense(ResetPassword),
      },
    ],
  },
];

export default publicRoutes;
```

### 4. Private Routes Configuration (`navigation/private.routes.tsx`)

```typescript
import {lazy, Suspense} from "react";
import type {RouteObject} from "react-router-dom";

// Lazy load layouts
const PrivateLayout = lazy(() => import("../pages/layout/Private/Home"));

// Lazy load pages
const Dashboard = lazy(() => import("../pages/private/Dashboard"));
const Profile = lazy(() => import("../pages/private/Profile"));
const Settings = lazy(() => import("../pages/private/Settings"));

import RouteLoading from "../components/RouteLoading";
import PrivateRoute from "./PrivateRoute";
import {privatePaths} from "./paths";

const withSuspense = (Component: React.ComponentType) => (
  <Suspense fallback={<RouteLoading />}>
    <Component />
  </Suspense>
);

const privateRoutes: RouteObject[] = [
  {
    element: <PrivateRoute />, // Route guard wrapper
    children: [
      {
        element: withSuspense(PrivateLayout),
        children: [
          {
            path: privatePaths.dashboard.path,
            element: withSuspense(Dashboard),
          },
          {
            path: privatePaths.profile.path,
            element: withSuspense(Profile),
          },
          {
            path: privatePaths.settings.path,
            element: withSuspense(Settings),
          },
        ],
      },
    ],
  },
];

export default privateRoutes;
```

### 5. Private Route Guard (`navigation/PrivateRoute.tsx`)

```typescript
import {Navigate, Outlet} from "react-router-dom";
import {useAuthStore} from "../store/authStore";
import {publicPaths} from "./paths";

const PrivateRoute = () => {
  const {isAuthenticated} = useAuthStore();

  if (!isAuthenticated) {
    return <Navigate to={publicPaths.login} replace />;
  }

  return <Outlet />;
};

export default PrivateRoute;
```

### 6. App Component with RouterProvider (`App.tsx`)

```typescript
import {QueryClient, QueryClientProvider} from "@tanstack/react-query";
import {lazy, Suspense} from "react";
import {RouterProvider} from "react-router-dom";
import routes from "./routes";
import "./styles/index.css";

const LazyDevtools = import.meta.env.DEV
  ? lazy(() => import("@tanstack/react-query-devtools").then(mod => ({default: mod.ReactQueryDevtools})))
  : () => null;

const LoadingComponent = () => {
  return (
    <div style={{height: "100vh", display: "grid", placeItems: "center"}}>
      <span>Loading...</span>
    </div>
  );
};

function App() {
  const queryClient = new QueryClient({
    defaultOptions: {
      queries: {
        refetchOnWindowFocus: false,
        retry: 1,
      },
    },
  });

  return (
    <QueryClientProvider client={queryClient}>
      <Suspense fallback={<LoadingComponent />}>
        <RouterProvider router={routes} />
      </Suspense>
      <Suspense fallback={null}>
        <LazyDevtools initialIsOpen={false} />
      </Suspense>
    </QueryClientProvider>
  );
}

export default App;
```

### 7. Route Loading Component (`components/RouteLoading/index.tsx`)

```typescript
const RouteLoading = () => {
  return (
    <div style={{height: "100vh", display: "grid", placeItems: "center"}}>
      <div>Loading page...</div>
    </div>
  );
};

export default RouteLoading;
```

### Key Routing Principles

1. **Centralized Path Constants**: All paths defined in `navigation/paths.ts`
2. **Lazy Loading**: Use `React.lazy()` for code splitting on ALL routes
3. **Suspense Boundaries**: Wrap lazy components with `<Suspense>` and loading fallbacks
4. **Route Guards**: Use `PrivateRoute` wrapper for protected routes
5. **Nested Layouts**: Use layouts for consistent UI structure across related routes
6. **Type Safety**: Export path types for autocomplete support
7. **Separation of Concerns**: Public and private routes in separate files
8. **Error Boundaries**: Use `errorElement` for graceful error handling

### Navigation Examples

```typescript
import {useNavigate, Link} from "react-router-dom";
import {privatePaths, publicPaths} from "../navigation/paths";

const MyComponent = () => {
  const navigate = useNavigate();

  // Programmatic navigation
  const handleLogin = () => {
    navigate(privatePaths.dashboard.link);
  };

  return (
    <div>
      {/* Declarative navigation */}
      <Link to={publicPaths.login}>Login</Link>
      <Link to={privatePaths.profile.link}>{privatePaths.profile.title}</Link>
      
      {/* Programmatic navigation */}
      <button onClick={handleLogin}>Go to Dashboard</button>
    </div>
  );
};
```

---

## ÔøΩüöÄ Initial Setup Commands

```bash
# 1. Create project with Vite
pnpm create vite@latest project-name --template react-swc-ts

# 2. Install dependencies
cd project-name
pnpm install

# 3. Install required packages
pnpm add @tanstack/react-query zustand react-router-dom react-router i18next react-i18next react-jwt luxon zod

# 4. Install dev dependencies
pnpm add -D @biomejs/biome husky lint-staged vitest @vitest/coverage-v8 jsdom @testing-library/react @testing-library/jest-dom @testing-library/user-event vite-tsconfig-paths @tanstack/react-query-devtools @types/luxon @types/node

# 5. Initialize Husky
pnpm exec husky init

# 6. Create Biome config
# (Copy biome.json content from above)

# 7. Create .husky/pre-commit and .husky/pre-push
# (Copy scripts from above)

# 8. Create directory structure
mkdir -p src/{components,hooks,utils,store,constants,types,interfaces,validators,providers,navigation,infra/http,adapters,services,pages,assets,styles,test}
mkdir -p src/pages/{public/Auth,private,layout/Public,layout/Private}

# 9. Create routing files
# Create routes.tsx, navigation/paths.ts, navigation/public.routes.tsx, navigation/private.routes.tsx
# (Copy router configuration examples from above)

# 10. Create RouteLoading component
# (Copy RouteLoading component from above)

# 11. Create initial CSS files
# (Copy CSS color system from above into src/styles/index.css)

# 12. Run initial checks
pnpm fix
pnpm check
pnpm typecheck
```

---

## üìö Additional References

For detailed coding standards and best practices, refer to:
- **`.github/copilot-instructions.md`** - Complete coding standards and best practices
- **`.github/copilot-summary-instructions.md`** - Documentation guidelines
- **`.github/refactoring-instructions.md`** - Refactoring best practices

---

## üéØ Success Criteria

The project initialization is complete when:

1. ‚úÖ All configuration files are created and valid
2. ‚úÖ Directory structure follows Vertical Slicing pattern
3. ‚úÖ CSS color system is implemented correctly (no generic variable names)
4. ‚úÖ Husky pre-commit and pre-push hooks are working
5. ‚úÖ Biome linting passes without errors
6. ‚úÖ TypeScript strict mode is enabled and compiling without errors
7. ‚úÖ All dev dependencies are installed
8. ‚úÖ Package manager is set to pnpm
9. ‚úÖ Git repository is initialized with proper .gitignore
10. ‚úÖ Project runs successfully with `pnpm dev`

---

## ‚ö†Ô∏è Critical Reminders

- **NO classes, constructors, or `this`** - Functional programming only
- **CSS Modules FIRST** - Use vanilla CSS with CSS Modules as primary styling approach
- **NO Tailwind by default** - Only install if explicitly requested by user
- **NO generic color variables** - FORBIDDEN: `--background`, `--foreground`, `--card`, `--primary-foreground`, etc.
- **ONLY use our color system** - All variables MUST start with `--color-` (e.g., `--color-primary`, `--color-gray-1`)
- **NO theme.css files** - Never create files with generic Tailwind variables
- **If Tailwind is used** - MUST configure `tailwind.config.js` to map to our color variables
- **NO localStorage** - Use CookieStore API or sessionStorage
- **Component logic extraction** - Keep components under 200 lines
- **Vertical Slicing** - Organize by feature/domain, not by technical layer
- **i18n is mandatory** - All user-facing text must use i18n keys
- **Always verify post-task checklist** - Non-negotiable for every task

---

**Remember**: This is the TECHNICAL foundation only. After completing this setup, the next phase will cover business logic, features, and application-specific requirements.
